<mat-card class="cardWithShadow mb-0! h-full">
  <mat-card-content>
    <div class="flex flex-col gap-6">
      <div>
        <mat-card-title>{{ title() }}</mat-card-title>
        @if (subtitle()) {
          <mat-card-subtitle>{{ subtitle() }}</mat-card-subtitle>
        }
      </div>

      @if (visibleItems().length) {
        <ol class="flex flex-col h-full gap-10" [attr.aria-label]="listAriaLabel()">
          @for (item of visibleItems(); track item.key; let index = $index) {
            <li class="flex items-start gap-4">
              <div class="flex size-7 shrink-0 items-center justify-center rounded-full bg-light-primary text-xs font-semibold text-primary">
                {{ index + 1 }}
              </div>
              <div class="min-w-0 flex-1">
                <div class="flex items-start justify-between gap-4">
                  <div class="min-w-0">
                    <div class="truncate text-sm font-semibold text-dark">{{ item.label }}</div>
                    @if (item.sublabel) {
                      <div class="text-xs text-muted">{{ item.sublabel }}</div>
                    }
                  </div>
                  <div class="shrink-0 text-sm font-semibold text-dark">
                    {{ valuePrefix() }}{{ item.value | number:'1.0-0' }}{{ valueSuffix() }}
                  </div>
                </div>
                <div class="mt-2 h-1 rounded-full bg-light-secondary">
                  <div class="h-1 rounded-full bg-primary" [style.width.%]="item.percent"></div>
                </div>
              </div>
            </li>
          }
        </ol>
      } @else {
        <div class="text-sm text-muted">Sem dados para exibir.</div>
      }
    </div>
  </mat-card-content>
</mat-card>
